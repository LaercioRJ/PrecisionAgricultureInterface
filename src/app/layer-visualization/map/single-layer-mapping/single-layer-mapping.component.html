<mat-sidenav-container class="sidenavContainer">
    <mat-sidenav position = "start" mode = "side" class="sidenav" opened>
        
        <br>
        <span class="sidenavTitle">Layer: {{layer.name}}</span>
        <br>
        <br>
        <mat-accordion>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-description>
                        <span class="expansionPanelTitle">
                            Detalhes
                        </span>
                    </mat-panel-description>
                </mat-expansion-panel-header>

                <mat-form-field class="pointInfoField" color = "primary" appearance = "fill">
                    <mat-label>Nome da Área</mat-label>
                    <input class="pointInfoDisplay" value="{{layer.name}}" matInput readonly>
                </mat-form-field>

                <mat-form-field class="pointInfoField" color = "primary" appearance = "fill">
                    <mat-label>N° de Pontos</mat-label>
                    <input class="pointInfoDisplay" value="{{layer.datasetLength}}" matInput readonly>
                </mat-form-field>

                <mat-form-field class="pointInfoField" color = "primary" appearance = "fill">
                    <mat-label>Tipo de Layer</mat-label>
                    <input class="pointInfoDisplay" value="{{layerType}}" matInput readonly>
                </mat-form-field>

                <div *ngIf="layerType === 'Zona de Manejo'">
                    <app-zm-mapping-info [layer] = "this.layer"></app-zm-mapping-info>
                </div>

                <div *ngIf="layerType === 'Pontos Amostrais'">
                    <app-sp-mapping-info [layer] = "this.layer"></app-sp-mapping-info>
                </div>

            </mat-expansion-panel>

            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-description>
                        <span class="expansionPanelTitle">
                            Consultar pontos selecionados
                        </span>
                    </mat-panel-description>
                </mat-expansion-panel-header>

                <div *ngIf="selectedPointId === -1">
                    Nenhum ponto foi selecionado
                </div>

                <div *ngIf="selectedPointId !== -1">
                    <mat-form-field class="pointInfoField" color = "primary" appearance = "fill">
                        <mat-label>Identificador</mat-label>
                        <input class="pointInfoDisplay" value = "{{selectedPointId + 1}}" matInput readonly>
                    </mat-form-field>

                    <mat-form-field class="pointInfoField" color = "primary" appearance = "fill">
                        <mat-label>{{layer.latitudeHeader}}</mat-label>
                        <input class="pointInfoDisplay" value = "{{selectedPointFirstCoordinate}}" matInput readonly>
                    </mat-form-field>

                    <mat-form-field class="pointInfoField" color = "primary" appearance = "fill">
                        <mat-label>{{layer.longitudeHeader}}</mat-label>
                        <input class="pointInfoDisplay" value = "{{selectedPointSecondCoordinate}}" matInput readonly>
                    </mat-form-field>

                    <mat-form-field class="pointInfoField" color = "primary" appearance = "fill">
                        <mat-label>{{layer.dataHeader}}</mat-label>
                        <input class="pointInfoDisplay" value = "{{selectedPointData}}" matInput readonly>
                    </mat-form-field>
                </div>
            </mat-expansion-panel>

            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-description>
                        <span class="expansionPanelTitle">
                            Legenda
                        </span>
                    </mat-panel-description>
                </mat-expansion-panel-header>

                <table mat-table [dataSource] = "tableDataSource" class="mat-elevation-z8">
                    <ng-container matColumnDef = Classe>
                        <th mat-header-cell style="text-align: center;" *matHeaderCellDef>Classe</th>
                        <td mat-cell *matCellDef = "let element;">
                            <button matTooltip = "Alterar a cor deste elemento" mat-stroked-button>
                                {{element.lineName}}
                            </button>
                            &nbsp;&nbsp;&nbsp;&nbsp;
                        </td>
                    </ng-container>

                    <ng-container matColumnDef = Cor>
                        <th mat-header-cell style="text-align: center;" *matHeaderCellDef>Cor</th>
                        <td mat-cell *matCellDef = "let element; let i = index">
                            <div id = "legendColor0" class="legendColor">
                                {{element.lineColor}}
                            </div>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>

            </mat-expansion-panel>
        </mat-accordion>

        <button mat-raised-button (click) = "openGradientCustomization()" color = "primary" class="sidenavButton">
            Download Mapa
            <span class="material-icons">
                get_app
            </span>
        </button>

        <button mat-raised-button color = "primary" class="sidenavButton">
            Aplicar Degradê
            <span class="material-icons">
                color_lens
            </span>
        </button>
        <br>

    </mat-sidenav>

    <mat-sidenav-content>
        <div id="fullMap" (click) = "selectPoint($event)" class="map"></div>
    </mat-sidenav-content>
</mat-sidenav-container>
